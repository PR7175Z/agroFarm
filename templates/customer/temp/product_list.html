{% load static %}
<div class="card" style="width: 19rem; height:22rem; border:#9e9b9b solid 2px;">

    <form action="{% url 'customer:home' %}" method="post">
        {% csrf_token %}

        {% if combined_data.product_user.featuredimage %}
            <a href="/product-detail/{{ combined_data.products.uid }}" >
                <img src="{{combined_data.product_user.featuredimage}}" class="card-img-top" alt="{{ combined_data.products.name }}" style="height: 10rem; object-fit: cover;">
            </a>
        {% else %}
            <a href="/product-detail/{{ combined_data.products.uid }}" >
                <img src="{% static 'images/default-nobg.png' %}" class="card-img-top" alt="{{ combined_data.products.name }}" style="height: 10rem; object-fit: cover;">
            </a>
        {% endif %}

        <div class="card-body">
            <a class="product-list-link" href="/product-detail/{{ combined_data.products.uid }}" >
                <h4 class="card-title">{{ combined_data.products.name }}</h4>
            </a>
            <h6>{{combined_data.product_user.price}} per {{combined_data.products.unit}}</h6>
            
            <div class="button-group d-flex justify-content-center">
                <div class="buy-button" style="margin-right:10px;">
                        <input type="hidden" name='uid' value='{{combined_data.products.uid}}'>
                        <button type="submit" name='action' value='buy' class="btn btn-dark px-4">Buy Now</button>
                </div>
                <div class='cart-button'>
                    <button class="btn btn-success add-to-cart-btn px-4" name = 'action' value='cart' data-product-uid="{{ combined_data.products.uid }}">Add to Cart</button>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- Success Message (Initially hidden) -->
<div id="success-message" style="display:none;" hidden></div>
